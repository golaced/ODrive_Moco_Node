# ODrive_Moco_Node
ODrive标准接口板改装套件（https://item.taobao.com/item.htm?spm=2013.1.20141001.1.17183b46KrOuab&id=632458406885&scm=1007.12144.95220.42296_0_0&pvid=72adb4f5-7b2b-47a3-b8f5-6e4415b27182&utparam=%7B%22x_hestia_source%22%3A%2242296%22%2C%22x_object_type%22%3A%22item%22%2C%22x_hestia_subsource%22%3A%22default%22%2C%22x_mt%22%3A0%2C%22x_src%22%3A%2242296%22%2C%22x_pos%22%3A1%2C%22wh_pid%22%3A-1%2C%22x_pvid%22%3A%2272adb4f5-7b2b-47a3-b8f5-6e4415b27182%22%2C%22scm%22%3A%221007.12144.95220.42296_0_0%22%2C%22x_object_id%22%3A632458406885%7D）

本项目基于Doggo开源资料设计了一套适用于Odrive-3.5的标准接口板套件，该套件首先对电路板硬件接口进行了整合，采用带锁扣和快速插拔式端子引出所需的通讯，调试与编码器接口；
为方便目前四足机器人电气设计中常用的CAN通讯，我设计了一个接口板将Odrive串口的ASIIC协议转换为了单帧的CAN通讯协议，从而可以完成对两路电机角度和电流的回传，并且结果直接完成了减速
比和电机朝向的转换，用户能自定义控制模式直接完成对电机电流、转速和位置的CAN总线命令控制，完成对典型电流限幅等参数的在线配置；同时设计了上位机，在我已有舵狗的Moco通用控制器OCU界面
中扩展出了对Odrive标定专用的界面，能快速、傻瓜式地完成对电机转向、力矩系数的快速标定，并且实时显示位置闭环等波形系数方便参数调节；在底层构建了完善的保护机制，具有超速飞车保护、通讯丢失等保护，另外为方便多圈角度标零，支持一键快速标零。

**-如果该项目对您有帮助请 Star 我们的项目-**<br>
**-如果您愿意分享对该项目的优化和改进请联系golaced@163.com或加入我们的QQ群567423074，加速开源项目的进度-**<br>

```
知乎教程地址：
https://zhuanlan.zhihu.com/p/305642819   
https://zhuanlan.zhihu.com/p/270612971
视频教程地址：
https://www.bilibili.com/video/BV1Bv411r725  
https://www.bilibili.com/video/BV1nz4y1y7jD
```

# PCB硬件参数
____Odrive-Moco接口板套件硬件组成如下图所示，其主要包括编码器接口板：采用PH1.25带锁端子引出两路ABI编码器输入接口；编码器板，与接口板配套板载AS5047带检索高性能磁编码器；SWD下载板，引出Odrive板载STM32下载接口；通讯接口板，使用STM32F4采用串口以ASIIC协议与
Odrive采用5Mbps波特率高速通讯，扩展一路1Mbps CAN完成与主控制器通讯，同时预留USB接口与OCU界面调试并支持以USB接口完成固件更新。<br>
  
**硬件参数：**

项目|参数
-------------|-------------
处理器|STM32F405RGT6-2
处理器性能|32Bit ARM Cortex-M4 168MH
编码器|TLE5012B
预留接口|CAN-1 1Mpbs
供电|5V输入 

**-搭建该项目的方式-**

方式|说明|发货周期
-------------|-------------|-------------
套件购买(**推荐**)|从官方淘宝店购买改装套件(不包ODrive 免费授权)|最长半个月
PCB加工+ODrive购买|自行加工项目文件免费提供PCB文件 +从官方购买Odrive+购买授权码|最长1周

方式|说明|开源模式
-------------|-------------|-------------
节点板单片机程序闭源，持续提供固件更新，硬件PCB开源，需要向官方购买授权码|闭源(目前支持STM32F4系列和Odrive 3.5版本且库与芯片ID绑定)
提供开源STM32F4下的双通道CAN通讯Keil例程


# 捐赠与项目后续开发计划
如果您觉得该项目对您有帮助，也为了更好的项目推进和软硬件更新，如果愿意请通过微信捐赠该项目！
<div align=center><img width="440" height="300" src="https://github.com/golaced/OLDX_DRONE_SIM/blob/master/support_file/img_file/pay.png"/></div>
